<div class="row" ng-controller="tabController" ng-init="tabInit()">
	<div class="container">
		<h1>Logs</h1>
		<form action="" class="form-inline">
			<div class="form-group">
				<label for="routes_search">Search : </label>
				<input type="text" id="routes_search" class="form-control" placeholder="Router Name" ng-model="router_name_search">
				<span>-</span>
				<input type="text" id="search" class="form-control" placeholder="LSP Name" ng-model="lsp_name_search">
			</div>
		</form>
		<div>
			<table class="table table-bordered table-striped animated fadeIn">
				<thead>
					<tr>
						<th>Router</th>
						<th>Router Address</th>
						<th>LSP Name</th>
						<th>Existing Config</th>
						<th>New Config</th>
						<th>Status</th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat-start="r in routes | filter: {_source: {router_name: router_name_search}, _id: lsp_name_search}">
						<td>{{r._source.router_name}}</td>
						<td>{{r._source.router_address}}</td>
						<td>{{r._id}}</td>
						<td>{{r._source.existing_config}}</td>
						<td>{{r._source.new_config}}</td>
						<td>
							<!-- <a ng-class="{'logSuccess': r._source.appliedstatus=='success', 'logFailure': r._source.appliedstatus=='fail'}" data-toggle="modal" data-target="#myModal" ng-click="isCollapsed = !isCollapsed">{{r._source.appliedstatus=='success' ? "Success" : "Fail"}}</a> -->
							<a ng-class="{'logSuccess': r._source.applied_status=='success', 'logFailure': r._source.applied_status=='failed'}" data-toggle="modal" data-target="#myModal" ng-click="isCollapsed = !isCollapsed">{{r._source.applied_status=='success' ? "Success" : "Fail"}}</a>
						</td>
					</tr>
					<tr class="remarks" ng-show="isCollapsed == false" ng-repeat-end>
			           <td colspan="6" ng-show="isCollapsed == false">
							<p ng-class="isCollapsed ? 'animated zoomOut' : 'animated bounceIn'" uib-collapse="isCollapsed" class="text-center">
							<b>Remarks : </b>{{r._source.remarks=="" ? 'No Remarks' : r._source.remarks}}
							</p>
						</td>
			        </tr>  
				</tbody>
			</table>	
		</div>
	</div>
	
	<!-- Modal Window -->
   	<!-- <script type="text/ng-template" id="myModalContent.html">
	    <div class="modal-header">
	        <h3 class="modal-title" id="modal-title">Remarks!</h3>
	    </div>
	    <div class="modal-body" id="modal-body">
	        <b>{{remarks}}</b>
	    </div>
	    <div class="modal-footer">
	        <button class="btn btn-primary" type="button" ng-click="ok()">OK</button>
	        <button class="btn btn-warning" type="button" ng-click="cancel()">Cancel</button>
	    </div>
	</script> -->
</div>